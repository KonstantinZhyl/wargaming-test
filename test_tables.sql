-- Store transactions
CREATE TABLE IN_APP_PURCHASE_LOG_SERVER
  (
      EVENT_TIMESTAMP        TIMESTAMP_TZ ,
      EVENT_UUID             VARCHAR,
      HC_PRODUCT_VALUE       NUMBER,
      HC_PRODUCT_VALUE_BONUS NUMBER,
      IN_APP_PURCHASE_ID     VARCHAR,
      IS_SANDBOX             BOOLEAN,
      PAYMENT_COUNTRY        VARCHAR,
      PLATFORM               VARCHAR,
      PLATFORM_PURCHASE_KEY  VARCHAR,
      PRODUCT_NAME           VARCHAR,
      REAL_CURRENCY_AMOUNT   NUMBER,
      REAL_CURRENCY_TYPE     VARCHAR,
      SESSION_ID             VARCHAR,
      USD_COST               NUMBER,
      USER_ID                VARCHAR,
      USER_IS_PREMIUM        BOOLEAN,
      USER_IS_SPENDER        BOOLEAN,
      USER_LEVEL             NUMBER,
      VALIDATED              BOOLEAN,
      USER_REGION            VARCHAR,
      SERVER_VERSION         VARCHAR,
      CLIENT_VERSION         VARCHAR,
      USER_GEO               VARCHAR,
      USER_TYPE              VARCHAR,
      USER_CLAN_ID           VARCHAR,
      FREE_XP_AMOUNT         NUMBER,
      SILVER_AMOUNT          NUMBER,
      GOLD_AMOUNT            NUMBER,
      PRE_SET_ITEM_ID        VARCHAR,
      IAP_ID                 VARCHAR,
      ITEM_IDS               VARCHAR,
      ALIAS                  VARCHAR,
      USER_INGAME_ID         VARCHAR,
      EVENT_ID               VARCHAR,
      USER_CLAN_LEVEL        NUMBER,
      IS_FREETRIAL           VARCHAR,
      STORE                  VARCHAR);

-- Battle log
CREATE TABLE MULTIPLAYER_BATTLE_STARTED
  (
      CLAN_ID                       VARCHAR,
      CLAN_LEVEL                    NUMBER,
      CLAN_NAME                     VARCHAR,
      CLAN_RANK                     NUMBER,
      COLLECT_INSERTED_TIMESTAMP    TIMESTAMP_TZ,
      EVENT_ID                      NUMBER,
      EVENT_TIMESTAMP               TIMESTAMP_TZ,
      EVENT_UUID                    VARCHAR,
      MAIN_EVENT_ID                 NUMBER,
      MAP_ID                        VARCHAR,
      MAP_NAME                      VARCHAR,
      MS_SINCE_LAST_EVENT           DOUBLE,
      MULTIPLAYER_BATTLE_ID         VARCHAR,
      MULTIPLAYER_BATTLE_MODE       VARCHAR,
      MULTIPLAYER_BATTLE_TEAM       VARCHAR,
      MULTIPLAYER_BATTLE_TYPE       VARCHAR,
      PLATFORM                      VARCHAR,
      SDK_VERSION                   VARCHAR,
      SESSION_ID                    VARCHAR,
      SHIP_AIR_DEFENSE_LEVEL        NUMBER,
      SHIP_ANTI_AIR                 NUMBER,
      SHIP_BOMBER_LEVEL             NUMBER,
      SHIP_CAMOUFLAGE_ID            VARCHAR,
      SHIP_CAMOUFLAGE_NAME          VARCHAR,
      SHIP_CARRIER_AIR_GROUP        NUMBER,
      SHIP_CONCEALMENT              NUMBER,
      SHIP_CONSUMABLE_1             VARCHAR,
      SHIP_CONSUMABLE_2             VARCHAR,
      SHIP_DEFENSE_LEVEL            NUMBER,
      SHIP_ELITE                    BOOLEAN,
      SHIP_ELITE_ATTRIBUTE_ID       VARCHAR,
      SHIP_ELITE_ATTRIBUTE_NAME     VARCHAR,
      SHIP_EQUIPMENT_1              VARCHAR,
      SHIP_EQUIPMENT_2              VARCHAR,
      SHIP_EQUIPMENT_3              VARCHAR,
      SHIP_FIGHTERS_LEVEL           NUMBER,
      SHIP_FIRE_CONTROL_LEVEL       NUMBER,
      SHIP_GUNS                     NUMBER,
      SHIP_HULL_LEVEL               NUMBER,
      SHIP_ID                       VARCHAR,
      SHIP_MAIN_GUNS_LEVEL          NUMBER,
      SHIP_MOBILITY                 NUMBER,
      SHIP_NAME                     VARCHAR,
      SHIP_NATION                   VARCHAR,
      SHIP_PREMIUM                  BOOLEAN,
      SHIP_SECONDARY_GUNS_LEVEL     NUMBER,
      SHIP_SKILL_NAME               VARCHAR,
      SHIP_SUPPLY_1                 VARCHAR,
      SHIP_SUPPLY_2                 VARCHAR,
      SHIP_SUPPLY_3                 VARCHAR,
      SHIP_SURVIVABILITY            NUMBER,
      SHIP_TIER                     NUMBER,
      SHIP_TORPEDO                  NUMBER,
      SHIP_TORPEDOBOMBERS_LEVEL     NUMBER,
      SHIP_TORPEDOES_LEVEL          NUMBER,
      SHIP_TYPE                     VARCHAR,
      USER_ID                       VARCHAR,
      USER_IS_PREMIUM               BOOLEAN,
      USER_IS_SPENDER               BOOLEAN,
      USER_LEVEL                    NUMBER,
      USER_LTV                      NUMBER,
      USER_SCORE                    NUMBER,
      USER_SERVER                   VARCHAR,
      USER_XP                       NUMBER,
      SHIP_TORPEDO_BOMBERS_LEVEL    NUMBER,
      SHIP_HULL__LEVEL              NUMBER,
      SHIP_EQUIPMENT_1_1            NUMBER,
      SHIP_EQUIPMENT_2_1            NUMBER,
      USER_SERVER_1                 NUMBER,
      SHIP_EQUIPMENT_3_1            NUMBER,
      SERVER_VERSION                VARCHAR,
      USER_REGION                   VARCHAR,
      SHIP_SKILL1_NAME              VARCHAR,
      USER_TYPE                     VARCHAR,
      USER_GEO                      VARCHAR,
      SHIP_SKILL2_NAME              VARCHAR,
      CLIENT_VERSION                VARCHAR,
      PLAYER_TYPE                   VARCHAR,
      SHIP_BOOST_1                  VARCHAR,
      SHIP_BOOST_2                  VARCHAR,
      USER_CLAN_ID                  VARCHAR,
      RANKED_DEVISION               VARCHAR,
      RANKED_SEASON_ID              VARCHAR,
      USER_INGAME_ID                VARCHAR,
      SHIP_SKILL3_NAME              VARCHAR,
      TITLE_USED                    VARCHAR,
      USER_CLAN_LEVEL               NUMBER,
      PORTRAIT_NAME                 VARCHAR,
      CHALLENGE_ID_3                VARCHAR,
      SHIP_LIMITED                  NUMBER,
      CHALLENGE_ID_1                VARCHAR,
      CHALLENGE_ID_2                VARCHAR,
      TEAM_ID                       VARCHAR,
      STORE                         VARCHAR
  );

-- Login tracking
CREATE TABLE LOGIN
  (
      EVENT_ID                      NUMBER,
      EVENT_TIMESTAMP               TIMESTAMP_TZ,
      EVENT_UUID                    VARCHAR,
      LOGIN_AUTHENTICATION_PLATFORM VARCHAR,
      LOGIN_SUCCESSFUL              BOOLEAN,
      MAIN_EVENT_ID                 NUMBER,
      MS_SINCE_LAST_EVENT           DOUBLE,
      PLATFORM                      VARCHAR,
      SDK_VERSION                   VARCHAR,
      SERVER_CLUSTER                VARCHAR,
      SESSION_ID                    VARCHAR,
      USER_ID                       VARCHAR,
      USER_IS_PREMIUM               BOOLEAN,
      USER_IS_SPENDER               BOOLEAN,
      USER_LEVEL                    NUMBER,
      USER_LTV                      NUMBER,
      USER_SCORE                    NUMBER,
      USER_SERVER                   VARCHAR,
      USER_XP                       NUMBER,
      ROW_NUMBER                    NUMBER,
      DEVICE_ID                     VARCHAR,
      LOGIN_ATTEMPT_ID              VARCHAR,
      USER_REGION                   VARCHAR,
      SERVER_VERSION                VARCHAR,
      CLIENT_VERSION                VARCHAR,
      USER_GEO                      VARCHAR,
      USER_TYPE                     VARCHAR,
      PLAYER_TYPE                   VARCHAR,
      USER_CLAN_ID                  VARCHAR,
      USER_INGAME_ID                VARCHAR,
      USER_CLAN_LEVEL               NUMBER,
      GDPR_PROCESSED_TS             TIMESTAMP_TZ,
      SC_BALANCE                    NUMBER,
      HC_BALANCE                    NUMBER,
      FREE_XP_BALANCE               NUMBER,
      LEAGUE_RATING_BALANCE         NUMBER,
      STORE                         VARCHAR,
  );

-- New users log
CREATE TABLE NEW_USER
  (
      BIRTH_YEAR                  TIMESTAMP_TZ,
      CAMPAIGN_INSTANCE           VARCHAR,
      COLLECT_INSERTED_TIMESTAMP  TIMESTAMP_TZ,
      EMAIL                       VARCHAR,
      EVENT_ID                    NUMBER,
      EVENT_TIMESTAMP             TIMESTAMP_TZ,
      EVENT_UUID                  VARCHAR,
      GENDER                      VARCHAR,
      MAIN_EVENT_ID               NUMBER,
      MS_SINCE_LAST_EVENT         DOUBLE,
      PLATFORM                    VARCHAR,
      SDK_VERSION                 VARCHAR,
      SESSION_ID                  VARCHAR,
      USER_COUNTRY                VARCHAR,
      USER_ID                     VARCHAR,
      USER_LEVEL                  NUMBER,
      USER_NAME                   VARCHAR,
      USER_SCORE                  NUMBER,
      USER_SERVER                 VARCHAR,
      USER_XP                     NUMBER,
      APPS_FLYER_ID               VARCHAR,
      USER_REGION                 VARCHAR,
      SERVER_VERSION              VARCHAR,
      USER_GEO                    VARCHAR,
      CLIENT_VERSION              VARCHAR,
      USER_CLAN_ID                VARCHAR,
      USER_TYPE                   VARCHAR,
      USER_CLAN_LEVEL             NUMBER,
      GDPR_PROCESSED_TS           TIMESTAMP_TZ,
      USER_INGAME_ID              VARCHAR,
      STORE                       VARCHAR
  );

-- Game session log
CREATE TABLE SESSION_STARTED
  (
      ANDROID_REGISTRATION_ID     VARCHAR,
      COLLECT_INSERTED_TIMESTAMP  TIMESTAMP_TZ,
      EVENT_ID                    NUMBER,
      EVENT_TIMESTAMP             TIMESTAMP_TZ,
      EVENT_UUID                  VARCHAR,
      MAIN_EVENT_ID               NUMBER,
      MS_SINCE_LAST_EVENT         DOUBLE,
      PLATFORM                    VARCHAR,
      SDK_VERSION                 VARCHAR,
      SESSION_ID                  VARCHAR,
      USER_GEO_LOCATION           VARCHAR,
      USER_ID                     VARCHAR,
      USER_LEVEL                  NUMBER,
      USER_SCORE                  NUMBER,
      USER_SERVER                 VARCHAR,
      USER_XP                     NUMBER,
      APPS_FLYER_ID               VARCHAR,
      USER_IS_SPENDER             BOOLEAN,
      DEVICE_ID                   VARCHAR,
      USER_IS_PREMIUM             BOOLEAN,
      USER_REGION                 VARCHAR,
      SERVER_VERSION              VARCHAR,
      USER_TYPE                   VARCHAR,
      USER_GEO                    VARCHAR,
      PLAYER_TYPE                 VARCHAR,
      CLIENT_VERSION              VARCHAR,
      USER_CLAN_ID                VARCHAR,
      USER_INGAME_ID              VARCHAR,
      USER_CLAN_LEVEL             NUMBER,
      GDPR_PROCESSED_TS           TIMESTAMP_TZ,
      STORE                       VARCHAR
  );

  revenue

-- Ingame ship transations, where SC_AMOUNT < 0 == ship purchased by user, SC_AMOUNT >= 0 == ship sold by user
CREATE TABLE SHIP_TRANSACTION_LOG
  (
      COLLECT_INSERTED_TIMESTAMP  TIMESTAMP_TZ,
      EVENT_ID                    NUMBER,
      EVENT_TIMESTAMP             TIMESTAMP_TZ,
      EVENT_UUID                  VARCHAR,
      HC_AMOUNT                   NUMBER,
      MAIN_EVENT_ID               NUMBER,
      MS_SINCE_LAST_EVENT         DOUBLE,
      PLATFORM                    VARCHAR,
      SC_AMOUNT                   NUMBER,
      SDK_VERSION                 VARCHAR,
      SESSION_ID                  VARCHAR,
      SHIP_ID                     VARCHAR,
      SHIP_NAME                   VARCHAR,
      SHIP_NATION                 VARCHAR,
      SHIP_PREMIUM                BOOLEAN,
      SHIP_TIER                   NUMBER,
      SHIP_TYPE                   VARCHAR,
      TRANSACTION_ID              VARCHAR,
      USER_ID                     VARCHAR,
      USER_IS_PREMIUM             BOOLEAN,
      USER_IS_SPENDER             BOOLEAN,
      USER_LEVEL                  NUMBER,
      USER_LTV                    NUMBER,
      USER_SCORE                  NUMBER,
      USER_SERVER                 VARCHAR,
      USER_XP                     NUMBER,
      SERVER_VERSION              VARCHAR,
      USER_REGION                 VARCHAR,
      USER_TYPE                   VARCHAR,
      USER_GEO                    VARCHAR,
      PLAYER_TYPE                 VARCHAR,
      CLIENT_VERSION              VARCHAR,
      USER_CLAN_ID                VARCHAR,
      IN_APP_PURCHASE_ID          VARCHAR,
      REASON                      VARCHAR,
      REASON_EXTRA                VARCHAR,
      RANKED_COIN_AMOUNT          NUMBER,
      USER_INGAME_ID              VARCHAR,
      USER_CLAN_LEVEL             NUMBER,
      GDPR_PROCESSED_TS           TIMESTAMP_TZ,
      FREE_XP_AMOUNT              NUMBER,
      IS_FREE_GIFT                BOOLEAN,
      SHIP_LIMITED                NUMBER,
      STORE                       VARCHAR
  );
